<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd" >

	<!-- Common beans used both by the MoM IME client and server -->
	
	<bean id="clientToServerJaxbContext" class="javax.xml.bind.JAXBContext" factory-method="newInstance">
		<constructor-arg>
    		<list>
    			<value>com.ndg.multiplayer.base.ClientToServerMessage</value>
    			<value>com.ndg.multiplayer.sessionbase.CreateAccount</value>
    			<value>com.ndg.multiplayer.sessionbase.Login</value>
    			<value>com.ndg.multiplayer.sessionbase.Logout</value>
    			<value>com.ndg.multiplayer.sessionbase.RequestSessionList</value>
    			<value>com.ndg.multiplayer.sessionbase.NewSession</value>
    			<value>com.ndg.multiplayer.sessionbase.JoinSession</value>
    			<value>com.ndg.multiplayer.sessionbase.LeaveSession</value>

    			<value>com.ndg.multiplayer.sessionbase.BrowseSavedGames</value>
    			<value>com.ndg.multiplayer.sessionbase.BrowseSavePoints</value>
    			<value>com.ndg.multiplayer.sessionbase.LoadGame</value>
    			<value>com.ndg.multiplayer.sessionbase.DeleteSavedGame</value>

    			<!-- MoM multiplayer structures -->
    			<value>momime.common.messages.MomSessionDescription</value>

				<!-- MoM multiplayer messages -->
    			<value>momime.common.messages.clienttoserver.AlchemyMessage</value>
    			<value>momime.common.messages.clienttoserver.CancelPendingMovementAndSpecialOrdersMessage</value>
    			<value>momime.common.messages.clienttoserver.CancelTargetSpellMessage</value>
    			<value>momime.common.messages.clienttoserver.CaptureCityDecisionMessage</value>
    			<value>momime.common.messages.clienttoserver.ChangeCityConstructionMessage</value>
    			<value>momime.common.messages.clienttoserver.ChangeOptionalFarmersMessage</value>
    			<value>momime.common.messages.clienttoserver.ChangeTaxRateMessage</value>
    			<value>momime.common.messages.clienttoserver.ChatMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseCityNameMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseCustomFlagColourMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseCustomPicksMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseInitialSpellsMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseRaceMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseStandardPhotoMessage</value>
    			<value>momime.common.messages.clienttoserver.ChooseWizardMessage</value>
    			<value>momime.common.messages.clienttoserver.CombatAutoControlMessage</value>
    			<value>momime.common.messages.clienttoserver.DismissUnitMessage</value>
    			<value>momime.common.messages.clienttoserver.EndCombatTurnMessage</value>
    			<value>momime.common.messages.clienttoserver.NextTurnButtonMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestCastSpellMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestMoveCombatUnitMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestMoveOverlandUnitStackMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestOverlandMovementDistancesMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestResearchSpellMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestSwitchOffMaintainedSpellMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestUpdateUnitNameMessage</value>
    			<value>momime.common.messages.clienttoserver.RushBuyMessage</value>
    			<value>momime.common.messages.clienttoserver.SellBuildingMessage</value>
    			<value>momime.common.messages.clienttoserver.SpecialOrderButtonMessage</value>
    			<value>momime.common.messages.clienttoserver.TargetSpellMessage</value>
    			<value>momime.common.messages.clienttoserver.UpdateMagicPowerDistributionMessage</value>
    			<value>momime.common.messages.clienttoserver.UploadCustomPhotoMessage</value>
    			<value>momime.common.messages.clienttoserver.RequestMoveHeroItemMessage</value>
    		</list>
   		</constructor-arg>
	</bean>

	<bean id="serverToClientJaxbContext" class="javax.xml.bind.JAXBContext" factory-method="newInstance">
		<constructor-arg>
    		<list>
    			<value>com.ndg.multiplayer.base.ServerToClientMessage</value>
    			<value>com.ndg.multiplayer.sessionbase.CreateAccountSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.CreateAccountFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.LoginSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.LoginFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.LogoutSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.LogoutFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.RequestSessionListSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.RequestSessionListFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.JoinSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.JoinFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.PlayerLeft</value>
    			<value>com.ndg.multiplayer.sessionbase.AdditionalPlayerJoined</value>
    			<value>com.ndg.multiplayer.sessionbase.SessionEnding</value>
    			<value>com.ndg.multiplayer.sessionbase.KickedByAnotherLogin</value>
    			<value>com.ndg.multiplayer.sessionbase.LeaveSessionFailed</value>
    			
    			<value>com.ndg.multiplayer.sessionbase.BrowseSavedGamesSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.BrowseSavedGamesFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.BrowseSavePointsSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.BrowseSavePointsFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.LoadGameFailed</value>
    			<value>com.ndg.multiplayer.sessionbase.DeleteSavedGameSuccessful</value>
    			<value>com.ndg.multiplayer.sessionbase.DeleteSavedGameFailed</value>
    			
    			<!-- MoM multiplayer structures -->
    			<value>momime.common.messages.MomSessionDescription</value>
    			<value>momime.common.messages.MomGeneralPublicKnowledge</value>
    			<value>momime.common.messages.MomPersistentPlayerPrivateKnowledge</value>
    			<value>momime.common.messages.MomPersistentPlayerPublicKnowledge</value>
    			<value>momime.common.messages.MomTransientPlayerPrivateKnowledge</value>
    			<value>momime.common.messages.MomTransientPlayerPublicKnowledge</value>

				<!-- MoM multiplayer messages -->
    			<value>momime.common.messages.servertoclient.AddNewTurnMessagesMessage</value>
    			<value>momime.common.messages.servertoclient.ApplyDamageMessage</value>
    			<value>momime.common.messages.servertoclient.AskForCaptureCityDecisionMessage</value>
    			<value>momime.common.messages.servertoclient.BroadcastChatMessage</value>
    			<value>momime.common.messages.servertoclient.ChooseInitialSpellsNowMessage</value>
    			<value>momime.common.messages.servertoclient.ChooseYourRaceNowMessage</value>
    			<value>momime.common.messages.servertoclient.ChosenCustomPhotoMessage</value>
    			<value>momime.common.messages.servertoclient.ChosenStandardPhotoMessage</value>
    			<value>momime.common.messages.servertoclient.ChosenWizardMessage</value>
    			<value>momime.common.messages.servertoclient.CombatEndedMessage</value>
    			<value>momime.common.messages.servertoclient.DamageCalculationMessage</value>
    			<value>momime.common.messages.servertoclient.EndOfContinuedMovementMessage</value>
    			<value>momime.common.messages.servertoclient.ErasePendingMovementsMessage</value>
    			<value>momime.common.messages.servertoclient.FullSpellListMessage</value>
    			<value>momime.common.messages.servertoclient.MoveUnitInCombatMessage</value>
    			<value>momime.common.messages.servertoclient.MoveUnitStackOverlandMessage</value>
    			<value>momime.common.messages.servertoclient.NewGameDatabaseMessage</value>
    			<value>momime.common.messages.servertoclient.OnePlayerSimultaneousTurnDoneMessage</value>
    			<value>momime.common.messages.servertoclient.OverlandCastQueuedMessage</value>
    			<value>momime.common.messages.servertoclient.OverlandMovementTypesMessage</value>
    			<value>momime.common.messages.servertoclient.PendingMovementMessage</value>
    			<value>momime.common.messages.servertoclient.PendingSaleMessage</value>
    			<value>momime.common.messages.servertoclient.RemoveQueuedSpellMessage</value>
    			<value>momime.common.messages.servertoclient.ReplacePicksMessage</value>
    			<value>momime.common.messages.servertoclient.SelectNextUnitToMoveOverlandMessage</value>
    			<value>momime.common.messages.servertoclient.SetCombatPlayerMessage</value>
    			<value>momime.common.messages.servertoclient.SetCurrentPlayerMessage</value>
    			<value>momime.common.messages.servertoclient.SetUnitIntoOrTakeUnitOutOfCombatMessage</value>
    			<value>momime.common.messages.servertoclient.SpellResearchChangedMessage</value>
    			<value>momime.common.messages.servertoclient.StartCombatMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateCombatMapMessage</value>
    			<value>momime.common.messages.servertoclient.StartGameMessage</value>
    			<value>momime.common.messages.servertoclient.StartSimultaneousTurnMessage</value>
    			<value>momime.common.messages.servertoclient.TaxRateChangedMessage</value>
    			<value>momime.common.messages.servertoclient.TextPopupMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateGlobalEconomyMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateManaSpentOnCastingCurrentSpellMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateOverlandMovementRemainingMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateRemainingResearchCostMessage</value>
    			<value>momime.common.messages.servertoclient.YourPhotoIsOkMessage</value>
    			<value>momime.common.messages.servertoclient.YourRaceIsOkMessage</value>
    			<value>momime.common.messages.servertoclient.AddUnassignedHeroItemMessage</value>
    			<value>momime.common.messages.servertoclient.RemoveUnassignedHeroItemMessage</value>
    			<value>momime.common.messages.servertoclient.TreasureRewardMessage</value>

				<!-- FoW messages -->
    			<value>momime.common.messages.servertoclient.UpdateTerrainMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateCityMessage</value>
    			<value>momime.common.messages.servertoclient.AddBuildingMessage</value>
    			<value>momime.common.messages.servertoclient.DestroyBuildingMessage</value>
    			<value>momime.common.messages.servertoclient.AddOrUpdateUnitMessage</value>
    			<value>momime.common.messages.servertoclient.KillUnitMessage</value>
    			<value>momime.common.messages.servertoclient.AddMaintainedSpellMessage</value>
    			<value>momime.common.messages.servertoclient.SwitchOffMaintainedSpellMessage</value>
    			<value>momime.common.messages.servertoclient.AddCombatAreaEffectMessage</value>
    			<value>momime.common.messages.servertoclient.CancelCombatAreaEffectMessage</value>
    			<value>momime.common.messages.servertoclient.FogOfWarVisibleAreaChangedMessage</value>
    			<value>momime.common.messages.servertoclient.UpdateUnitToAliveMessage</value>
    		</list>
   		</constructor-arg>
	</bean>

	<bean id="objectFactoryMap" class="com.ndg.map.coordinates.ObjectFactoryMap" />	<!-- Creates Ex versions of coordinates -->

	<bean id="booleanMapAreaOperations2D" class="com.ndg.map.areas.operations.BooleanMapAreaOperations2DImpl">
		<property name="randomUtils" ref="randomUtils" />
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
	</bean>

	<bean id="cityCalculations" class="momime.common.calculations.CityCalculationsImpl">
		<property name="memoryBuildingUtils" ref="memoryBuildingUtils" />
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
		<property name="multiplayerSessionUtils" ref="multiplayerSessionUtils" />
		<property name="booleanMapAreaOperations2D" ref="booleanMapAreaOperations2D" />
	</bean>
	
	<bean id="skillCalculations" class="momime.common.calculations.SkillCalculationsImpl" />
	
	<bean id="spellCalculations" class="momime.common.calculations.SpellCalculationsImpl">
		<property name="spellUtils" ref="spellUtils" />
		<property name="memoryBuildingUtils" ref="memoryBuildingUtils" />
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
	</bean>
	
	<bean id="unitCalculations" class="momime.common.calculations.UnitCalculationsImpl">
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="combatMapUtils" ref="combatMapUtils" />
		<property name="unitUtils" ref="unitUtils" />
		<property name="unitSkillUtils" ref="unitSkillUtils" />
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
	</bean>

	<bean id="memoryBuildingUtils" class="momime.common.utils.MemoryBuildingUtilsImpl" />
	
	<bean id="memoryCombatAreaEffectUtils" class="momime.common.utils.MemoryCombatAreaEffectUtilsImpl" />
	
	<bean id="memoryGridCellUtils" class="momime.common.utils.MemoryGridCellUtilsImpl" />
	
	<bean id="memoryMaintainedSpellUtils" class="momime.common.utils.MemoryMaintainedSpellUtilsImpl">
		<property name="spellUtils" ref="spellUtils" />
		<property name="unitUtils" ref="unitUtils" />
		<property name="unitSkillUtils" ref="unitSkillUtils" />
		<property name="memoryBuildingUtils" ref="memoryBuildingUtils" />
		<property name="damageTypeUtils" ref="damageTypeUtils" />
	</bean>
	
	<bean id="playerPickUtils" class="momime.common.utils.PlayerPickUtilsImpl" />
	
	<bean id="resourceValueUtils" class="momime.common.utils.ResourceValueUtilsImpl">
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="skillCalculations" ref="skillCalculations" />
		<property name="spellCalculations" ref="spellCalculations" />
	</bean>
	
	<bean id="spellUtils" class="momime.common.utils.SpellUtilsImpl">
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="spellCalculations" ref="spellCalculations" />
		<property name="heroItemCalculations" ref="heroItemCalculations" />
	</bean>
	
	<bean id="unitUtils" class="momime.common.utils.UnitUtilsImpl">
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="memoryCombatAreaEffectUtils" ref="memoryCombatAreaEffectUtils" />
		<property name="multiplayerSessionUtils" ref="multiplayerSessionUtils" />
	</bean>
	
	<bean id="unitSkillUtils" class="momime.common.utils.UnitSkillUtilsImpl">
		<property name="unitUtils" ref="unitUtils" />
		<property name="playerPickUtils" ref="playerPickUtils" />
		<property name="multiplayerSessionUtils" ref="multiplayerSessionUtils" />
	</bean>
	
	<bean id="combatMapUtils" class="momime.common.utils.CombatMapUtilsImpl">
		<property name="multiplayerSessionUtils" ref="multiplayerSessionUtils" />
	</bean>

	<bean id="pendingMovementUtils" class="momime.common.utils.PendingMovementUtilsImpl" />

	<bean id="randomUtils" class="com.ndg.random.RandomUtilsImpl" />
	
	<bean id="coordinateSystemUtils" class="com.ndg.map.CoordinateSystemUtilsImpl" />
	
	<bean id="booleanMapAreaOperations3D" class="com.ndg.map.areas.operations.BooleanMapAreaOperations3DImpl">
		<property name="randomUtils" ref="randomUtils" />
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
		<property name="booleanMapAreaOperations2D" ref="booleanMapAreaOperations2D" />
	</bean>

	<bean id="zoneAI" class="momime.common.ai.ZoneAIImpl">
		<property name="coordinateSystemUtils" ref="coordinateSystemUtils" />
		<property name="booleanMapAreaOperations2D" ref="booleanMapAreaOperations2D" />
		<property name="booleanMapAreaOperations3D" ref="booleanMapAreaOperations3D" />
	</bean>

	<bean id="heroItemUtils" class="momime.common.utils.HeroItemUtilsImpl" />

	<bean id="heroItemCalculations" class="momime.common.calculations.HeroItemCalculationsImpl">
		<property name="playerPickUtils" ref="playerPickUtils" />
	</bean>

	<bean id="damageTypeUtils" class="momime.common.utils.DamageTypeUtilsImpl">
		<property name="unitSkillUtils" ref="unitSkillUtils" />
	</bean>

</beans>